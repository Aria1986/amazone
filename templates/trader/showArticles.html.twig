{% extends 'base.html.twig' %}

{% block title %} {{ trader.name}}Articles 
{% endblock %}
{% block body %}
	<h1>Articles index</h1>
	<div class="d-flex justify-content-between">
		<div>
			<a href="{{ path('app_articles_new') }}">Ajouter un produit</a>
		</div>
		<div class="d-flex gap-3">
			<select class="form-select form-select-sm" aria-label="Small select example">
				<option selected>Filtrer par catégorie</option>
				{% for category in categories %}
					<option value="{{category.id}}">{{category.name}}</option>
				{% endfor %}
			</select>
			<button class="btn btn-primary btn-sm">Filtrer</button>
		</div>
	</div>
	<br><br>
	<div class="row row-cols-1 row-cols-md-3 g-4">
		{% for article in trader.articles %}
			<div class="col">
				<div class="card">
					<img src="{{ article.image}}" class="card-img-top" alt="">
					<div class="card-body">
						<div class="d-flex justify-content-between">
							<div>
                                <div class="d-flex">
                                    <h5 class="card-title m-2">{{ article.name }}</h5>
                                    <span onclick="ajouterPanier({{article.id}})"><i class="fa-solid fa-cart-plus p-2"></i>
                                </div>
								<p class="card-text">{{ article.description }}</p>
							</div>
							<div>
								<h5>{{ article.price}} €</h5>
							</div>
						</div>
						<br>
						<p>{{ article.category.name}}</p>
						<a href="{{path('app_trader_show',{'id':trader.id})}}">
							<p>{{trader.name}}</p>
						</a>
					</div>																																																																																																																																																																																																		
				</div>
			</div>
		{% endfor %}
	{% endblock %}
